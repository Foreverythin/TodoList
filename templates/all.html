<script src="../static/jquery/jquery-3.6.1.min.js"></script>
<link href="../static/style/all.css" rel="stylesheet">
<script src="../static/script/all.js"></script>

{% extends "base.html" %}

{% block content %}
    <!-- the subpage's main content -->
    <div class="container" id="all-mainContent">
        <!-- the status-dock, which is about the icon and the sorting button -->
        <div id="status-dock">
            <table>
                <tr>
                    <th>
                        <!-- the icon -->
                        <svg t="1667975455514" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="6153" width="70" height="70">
                            <path d="M724.848405 608.07964a94.092936 94.092936 0 0 1-7.964336 6.223559c-1.240161 0.932965-2.514455 1.82042-3.765993 2.73063C532.065973 745.020702 513.645602 894.431637 512.075491 934.116784c0-0.409594 0-0.750923-0.079644-1.137762-10.865629-161.357439-140.991495-271.925173-187.969698-306.763452a341.328669 341.328669 0 1 1 400.822256-18.13593zM511.995847 944.356644s-0.182042-3.674972 0.079644-10.23986C525.205267 1129.345405 511.995847 944.356644 511.995847 944.356644z"
                                  fill="#029DBE" p-id="6154"></path>
                            <path d="M511.995847 0.013994a341.260403 341.260403 0 0 1 212.852558 608.065646 94.092936 94.092936 0 0 1-7.964336 6.223559c-1.240161 0.932965-2.514455 1.82042-3.765993 2.73063a629.535219 629.535219 0 0 0-33.984957 25.804447L274.010122 96.723784A340.122641 340.122641 0 0 1 511.995847 0.013994z"
                                  fill="#FFFFFF" opacity=".2" p-id="6155"></path>
                            <path d="M352.709135 166.764427h318.573424a22.755245 22.755245 0 0 1 22.755245 22.755244V477.87413a22.755245 22.755245 0 0 1-22.755245 22.755245H352.709135a22.755245 22.755245 0 0 1-22.755244-22.755245V189.519671a22.755245 22.755245 0 0 1 22.755244-22.755244z m27.806909 30.457895h262.959606a20.229412 20.229412 0 0 1 20.229413 20.229412V227.56644c0 11.172825-9.102098 30.344119-20.229413 30.344119H380.516044c-11.172825 0-20.229412-19.171294-20.229412-30.344119v-10.114706a20.229412 20.229412 0 0 1 20.229412-20.229412zM410.837407 136.545462a20.092881 20.092881 0 0 1 20.092881 20.092881v40.891174a20.092881 20.092881 0 0 1-40.174384 0v-40.891174A20.092881 20.092881 0 0 1 410.837407 136.545462zM603.016825 136.545462a20.229412 20.229412 0 0 1 20.229413 20.229412v40.606734A20.229412 20.229412 0 0 1 603.016825 217.611021a20.229412 20.229412 0 0 1-20.229412-20.229413v-40.606734A20.229412 20.229412 0 0 1 603.016825 136.545462z"
                                  fill="#FFFFFF" p-id="6156"></path>
                            <path d="M454.481967 362.823614l26.054755 43.621804s42.336133-88.643055 109.10002-118.190741c-1.627 21.105489-8.146378 39.400706 3.254 61.905643-29.308755 5.631923-89.564643 68.948391-109.10002 99.906902-27.681755-29.581818-60.301398-52.064-83.056643-59.095371z"
                                  fill="#029DBE" p-id="6157"></path>
                        </svg>
                    </th>
                    <!-- the text beside the icon -->
                    <td style="font-size: 30px">All Todos</td>
                    <td style="font-size: 16px;padding-left: 8px;position: relative;top: 8px;" class="date"
                        id="today-date">
                    </td>
                </tr>
            </table>
            <!-- the sorting button -->
            <div class="btn-group" style="position: absolute; right: 0; top: 20px">
                <button type="button" class="btn btn-default dropdown-toggle"
                        data-toggle="dropdown">
                    Sort <span class="caret"></span>
                </button>
                <!-- the sorting options -->
                <ul class="dropdown-menu" role="menu">
                    <li><a href="#" onclick="sortTask('created_time_desc')">Created Time-Desc</a></li>
                    <li><a href="#" onclick="sortTask('created_time_asc')">Created Time-Asc</a></li>
                    <li class="divider"></li>
                    <li><a href="#" onclick="sortTask('deadline_desc')">Deadline-Desc</a></li>
                    <li><a href="#" onclick="sortTask('deadline_asc')">Deadline-Asc</a></li>
                </ul>
            </div>
        </div>

        <!-- the table of all todos, which uses data from the backend -->
        <div id="all-task-list">
            <ul>
                {% for task in tasks %}
                    <li>
                        <div style="display: flex; flex-direction: row; position: relative">
                            <table>
                                <tr>
                                    <!-- the uncompleted icons -->
                                    <td>
                                        <svg data-task-id="{{ task.id }}" t="1667870868387" class="icon uncompleted"
                                             viewBox="0 0 1024 1024" version="1.1"
                                             xmlns="http://www.w3.org/2000/svg" p-id="3715" width="40" height="40">
                                            <path d="M512 192c176.768 0 320 143.275 320 320 0 176.768-143.275 320-320 320-176.768 0-320-143.275-320-320 0-176.768 143.275-320 320-320z m0 41.28c-153.963 0-278.72 124.757-278.72 278.72S358.037 790.72 512 790.72 790.72 665.963 790.72 512 665.963 233.28 512 233.28z"
                                                  p-id="3716" fill="{{ task.module_color }}"></path>
                                        </svg>
                                    </td>
                                    <td>
                                        <svg t="1667870888459" class="icon uncompleted" viewBox="0 0 1024 1024"
                                             version="1.1" style="display: none"
                                             xmlns="http://www.w3.org/2000/svg" p-id="3868" width="40" height="40">
                                            <path d="M501.504 170.667c182.741 0 330.816 148.117 330.816 330.837 0 182.741-148.117 330.816-330.816 330.816-182.784 0-330.837-148.117-330.837-330.816 0-182.784 148.117-330.837 330.837-330.837z m0 42.666c-159.168 0-288.17 128.982-288.17 288.171 0 159.147 128.98 288.15 288.17 288.15 159.147 0 288.15-128.982 288.15-288.15 0-159.168-128.96-288.17-288.15-288.17z m144.064 150.55a25.152 25.152 0 0 1 36.053 35.05L462.955 623.83a25.152 25.152 0 0 1-35.243 0.79L321.515 524.65a25.152 25.152 0 1 1 34.453-36.608l88.405 83.2 201.195-207.36z"
                                                  p-id="3869"></path>
                                        </svg>
                                    </td>
                                    <!-- the task name -->
                                    <td data-module-name="{{ task.module_name }}"
                                        data-module-color="{{ task.module_color }}"><span
                                            style="font-size: 18px"><strong>{{ task.task_name }}</strong></span></td>
                                    <!-- the deadline icon -->
                                    <td style="padding-left: 10px">
                                        <svg t="1667876322381" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                             xmlns="http://www.w3.org/2000/svg" p-id="2035" width="15" height="15">
                                            <path d="M872 64c13.2544 0 24 10.7456 24 24 0 13.2544-10.7456 24-24 24h-104v177.456c0 67.0672-36.4912 128.8224-95.2368 161.1744l-111.0816 61.1744 111.328 61.536C731.6176 605.7328 768 667.4112 768 734.376V912h104c13.2544 0 24 10.7456 24 24 0 13.2544-10.7456 24-24 24H152c-13.2544 0-24-10.7456-24-24 0-13.2544 10.7456-24 24-24h104V734.544c0-67.0672 36.4912-128.8224 95.2368-161.1744l111.08-61.176-111.328-61.5328C292.3824 418.2656 256 356.5872 256 289.6224V112H152c-13.2544 0-24-10.7456-24-24 0-13.2544 10.7456-24 24-24h720zM512.4 539.4112l-138.0064 76.0032A136 136 0 0 0 304 734.544V912h416V734.3776a136 136 0 0 0-70.2096-119.0272l-137.3904-75.9392zM720 112H304v177.6224a136 136 0 0 0 70.2096 119.0272l137.3904 75.9392 138.0064-76.0032A136 136 0 0 0 720 289.456V112z"
                                                  fill="{{ task.task_color }}" p-id="2036"></path>
                                        </svg>
                                    </td>
                                    <!-- the deadline -->
                                    <td><span class="deadline-time"
                                              style="font-size: 14px; font-weight: lighter; color: {{ task.task_color }}">{{ task.date }} {{ task.time.strftime("%H:%M") }}</span>
                                    </td>
                                </tr>
                            </table>
                            <!-- the deleting and editing icon -->
                            <table style="position: absolute; right: 0; height: 40px">
                                <tr>
                                    <!-- the editing icon -->
                                    <td data-task-id="{{ task.id }}" style="padding-right: 7px" class="editTask-td">
                                        <svg t="1667877123131" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                             xmlns="http://www.w3.org/2000/svg" p-id="5617" width="18" height="18">
                                            <path d="M651.636364 0H186.181818C83.781818 0 0 83.781818 0 186.181818v651.636364c0 102.4 83.781818 186.181818 186.181818 186.181818h651.636364c102.4 0 186.181818-83.781818 186.181818-186.181818V325.818182h-46.545455v512c0 79.127273-60.509091 139.636364-139.636363 139.636363H186.181818c-79.127273 0-139.636364-60.509091-139.636363-139.636363V186.181818c0-79.127273 60.509091-139.636364 139.636363-139.636363h465.454546V0z"
                                                  fill="" p-id="5618"></path>
                                            <path d="M231.098182 751.336727L889.344 93.090909l32.907636 32.907636L264.005818 784.290909z"
                                                  fill="" p-id="5619"></path>
                                        </svg>
                                    </td>
                                    <!-- the deleting icon -->
                                    <td data-task-id="{{ task.id }}" class="deleteTask-td">
                                        <svg t="1667877062531" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                             xmlns="http://www.w3.org/2000/svg" p-id="3902" width="20" height="20">
                                            <path d="M687.603949 656.994302 541.10027 510.457878 687.603949 363.943966c8.829086-8.840342 8.829086-23.122627 0-31.961946-8.850575-8.840342-23.13286-8.840342-31.962969 0L509.138324 478.495932 362.623389 331.980997c-8.840342-8.818853-23.122627-8.818853-31.962969 0-8.840342 8.840342-8.840342 23.144116 0 31.984459l146.493445 146.514935L330.638931 656.994302c-8.819876 8.830109-8.819876 23.133883 0 31.962969 8.840342 8.829086 23.144116 8.829086 31.984459 0l146.514935-146.514935 146.502655 146.514935c8.830109 8.829086 23.112394 8.829086 31.962969 0C696.433034 680.129208 696.45657 665.824411 687.603949 656.994302z"
                                                  p-id="3903"></path>
                                            <path d="M938.362063 510.457878c0-237.061161-192.174857-429.234995-429.247274-429.234995-237.062184 0-429.246251 192.173834-429.246251 429.234995 0 237.083673 192.185091 429.257507 429.246251 429.257507 97.345072 0 186.435133-33.110095 258.440074-87.677898 2.958378-3.354398 4.900613-7.636934 4.900613-12.449543 0-10.506285-8.521071-19.026332-19.027355-19.026332-5.431709 0-10.287297 2.162246-13.752212 5.826705l-0.2415 0c-64.456011 47.414893-143.745868 75.800383-229.876528 75.800383-214.679407 0-388.730489-174.073594-388.730489-388.719232 0-214.688617 174.051081-388.718209 388.730489-388.718209 214.688617 0 388.697743 174.029592 388.697743 388.718209 0 65.548902-15.386432 127.277802-44.081984 181.490517l0 0.309038c-0.508583 1.811252-1.104147 3.576455-1.104147 5.519714 0 10.507308 8.520047 19.028379 19.028379 19.028379 8.18952 0 15.054881-5.254677 17.703197-12.494569l0 0.132006C920.349827 648.38625 938.362063 581.536726 938.362063 510.457878z"
                                                  p-id="3904"></path>
                                        </svg>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <!-- the task description -->
                        <span class="description">{{ task.task_description }}</span>
                        <hr style="margin-top: 2px;">
                    </li>
                {% endfor %}
            </ul>
        </div>


    </div>
{% endblock %}